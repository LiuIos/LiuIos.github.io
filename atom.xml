<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å®ç”Ÿçš„åšå®¢</title>
  
  
  <link href="https://liuios.github.io/atom.xml" rel="self"/>
  
  <link href="https://liuios.github.io/"/>
  <updated>2021-09-10T06:41:38.578Z</updated>
  <id>https://liuios.github.io/</id>
  
  <author>
    <name>åˆ˜å®ç”Ÿ</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>React Native æ­é… MobX ä½¿ç”¨å¿ƒå¾—</title>
    <link href="https://liuios.github.io/2021/09/09/React-Native-%E6%90%AD%E9%85%8D-MobX-%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97/"/>
    <id>https://liuios.github.io/2021/09/09/React-Native-%E6%90%AD%E9%85%8D-MobX-%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97/</id>
    <published>2021-09-09T02:56:39.000Z</published>
    <updated>2021-09-10T06:41:38.578Z</updated>
    
    <content type="html"><![CDATA[<h2 id="React-Native-ä½¿ç”¨-MobX"><a href="#React-Native-ä½¿ç”¨-MobX" class="headerlink" title="React Native ä½¿ç”¨ MobX"></a>React Native ä½¿ç”¨ MobX</h2><p><a href="https://zh.mobx.js.org/README.html">MobX</a> æ˜¯ä¸€ä¸ªç”¨äºçŠ¶æ€ç®¡ç†çš„<a href="https://codingislove.com/tag/javascript/">Javascript</a>åº“ï¼Œå®ƒé€šè¿‡è¿ç”¨é€æ˜çš„å‡½æ•°å¼å“åº”ç¼–ç¨‹ï¼ˆTransparent Functional Reactive Programmingï¼ŒTFRPï¼‰ä½¿çŠ¶æ€ç®¡ç†å˜å¾—ç®€å•å’Œå¯æ‰©å±•ï¼Œä¸React Nativeä¸€èµ·ä½¿ç”¨æ•ˆæœå¾ˆå¥½ã€‚</p><h3 id="å®‰è£…-Mobx-å’Œ-Mobx-react"><a href="#å®‰è£…-Mobx-å’Œ-Mobx-react" class="headerlink" title="å®‰è£… Mobx å’Œ Mobx-react"></a>å®‰è£… Mobx å’Œ Mobx-react</h3><p>Mobx æ˜¯ä¸»è¦çš„åº“ï¼Œè€Œ mobx-react å…·æœ‰ç”¨äº react çš„ mobx ç»‘å®šã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… Mobx å’Œ Mobx-reactï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add mobx mobx-react</span><br></pre></td></tr></table></figure><h3 id="å¯ç”¨-Mobx-è£…é¥°å™¨è¯­æ³•"><a href="#å¯ç”¨-Mobx-è£…é¥°å™¨è¯­æ³•" class="headerlink" title="å¯ç”¨ Mobx è£…é¥°å™¨è¯­æ³•"></a>å¯ç”¨ Mobx è£…é¥°å™¨è¯­æ³•</h3><p>ä½ ä¹Ÿå¯ä»¥åœ¨æ²¡æœ‰è£…é¥°å™¨è¯­æ³•çš„æƒ…å†µä¸‹ä½¿ç”¨ Mobxï¼Œä½†æ˜¯ä½¿ç”¨è£…é¥°å™¨å¯ä»¥ç®€åŒ–ä»£ç ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å¯ç”¨å®ƒã€‚</p><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸ºè£…é¥°å™¨å®‰è£… babel æ’ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add --dev @babel/plugin-proposal-decorators @babel/plugin-proposal-class-properties</span><br></pre></td></tr></table></figure><p>å¹¶åœ¨ <code>.babelrc</code>æ–‡ä»¶ä¸­å¯ç”¨ï¼ˆæ³¨æ„ï¼Œæ’ä»¶çš„é¡ºåºå¾ˆé‡è¦ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;plugins&quot;: [</span><br><span class="line">        [&quot;@babel/plugin-proposal-decorators&quot;, &#123; &quot;legacy&quot;: true &#125;],</span><br><span class="line">        [&quot;@babel/plugin-proposal-class-properties&quot;, &#123; &quot;loose&quot;: false &#125;]</span><br><span class="line">        // ä¸MobX 4/5ä¸åŒçš„æ˜¯, &quot;loose&quot; å¿…é¡»ä¸º false!    ^</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•ä½¿ç”¨Reactä¸Šä¸‹æ–‡è®¾ç½®-Mobx"><a href="#å¦‚ä½•ä½¿ç”¨Reactä¸Šä¸‹æ–‡è®¾ç½®-Mobx" class="headerlink" title="å¦‚ä½•ä½¿ç”¨Reactä¸Šä¸‹æ–‡è®¾ç½® Mobx"></a>å¦‚ä½•ä½¿ç”¨Reactä¸Šä¸‹æ–‡è®¾ç½® Mobx</h2><p>è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ react å’Œ react ä¸Šä¸‹æ–‡æ¥è®¾ç½® Mobxã€‚</p><h3 id="ä»€ä¹ˆæ˜¯reactä¸Šä¸‹æ–‡ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯reactä¸Šä¸‹æ–‡ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯reactä¸Šä¸‹æ–‡ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯reactä¸Šä¸‹æ–‡ï¼Ÿ</h3><p>Context æä¾›äº†ä¸€ç§é€šè¿‡ç»„ä»¶æ ‘ä¼ é€’æ•°æ®çš„æ–¹æ³•ï¼Œè€Œæ— éœ€åœ¨æ¯ä¸ªçº§åˆ«æ‰‹åŠ¨å‘ä¸‹ä¼ é€’ propsã€‚ç®€å•æ¥è¯´ï¼ŒReact ä¸Šä¸‹æ–‡ç”¨äºå°†ä¸€äº›æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªåœ°æ–¹å¹¶åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒã€‚æ¯æ¬¡ä¿®æ”¹ä¸Šä¸‹æ–‡ä¸­çš„æ•°æ®æ—¶ï¼Œç»„ä»¶ä¹Ÿä¼šé‡æ–°æ¸²æŸ“ã€‚å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ä¸Šä¸‹æ–‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ä½¿ç”¨ props æ‰‹åŠ¨ä¼ é€’æ•°æ®ã€‚</p><p>ä»æŠ€æœ¯ä¸Šè®²ï¼ŒMobx å’Œå…¶ä»–çŠ¶æ€ç®¡ç†åº“ä¹ŸåšåŒæ ·çš„äº‹æƒ…ï¼Œä½†åŠŸèƒ½æ›´å¤š</p><h3 id="è®¾ç½®ä¸€ä¸ªåŸºæœ¬çš„-Mobx-store"><a href="#è®¾ç½®ä¸€ä¸ªåŸºæœ¬çš„-Mobx-store" class="headerlink" title="è®¾ç½®ä¸€ä¸ªåŸºæœ¬çš„ Mobx store"></a>è®¾ç½®ä¸€ä¸ªåŸºæœ¬çš„ Mobx store</h3><p>è½¬åˆ°react nativeç¨‹åºä¸­çš„ src æ–‡ä»¶å¤¹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºçš„æ–‡ä»¶å¤¹<code>services</code>å¹¶åˆ›å»ºä¸€ä¸ªåä¸ºçš„æ–‡ä»¶<code>store.js</code></p><p>è½¬åˆ°æ–°åˆ›å»ºçš„<code>store.js</code>æ–‡ä»¶å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; action, observable &#125; <span class="keyword">from</span> <span class="string">&quot;mobx&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* Store start */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">  @observable title = <span class="string">&quot;Coding is Love&quot;</span>;</span><br><span class="line"> </span><br><span class="line">  @observable user = &#123;</span><br><span class="line">    <span class="attr">userId</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Ranjith kumar V&quot;</span>,</span><br><span class="line">    <span class="attr">website</span>: <span class="string">&quot;https://codingislove.com&quot;</span>,</span><br><span class="line">    <span class="attr">email</span>: <span class="string">&quot;ranjith@codingislove.com&quot;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"> </span><br><span class="line">  @action</span><br><span class="line">  <span class="function"><span class="title">setUser</span>(<span class="params">user</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.user = user;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  @action</span><br><span class="line">  <span class="function"><span class="title">updateUser</span>(<span class="params">data</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.user = &#123; ...this.user, ...data &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  @action</span><br><span class="line">  <span class="function"><span class="title">clearUser</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.user = <span class="literal">undefined</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  @action</span><br><span class="line">  <span class="function"><span class="title">setTitle</span>(<span class="params">title</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.title = title;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Store end */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/* Store helpers */</span></span><br><span class="line"><span class="keyword">const</span> StoreContext = React.createContext();</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> StoreProvider = <span class="function">(<span class="params">&#123; children, store &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">StoreContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;store&#125;</span>&gt;</span>&#123;children&#125;<span class="tag">&lt;/<span class="name">StoreContext.Provider</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* Hook to use store in any functional component */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useStore = <span class="function">() =&gt;</span> React.useContext(StoreContext);</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* HOC to inject store to any functional or class component */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> withStore = <span class="function">(<span class="params">Component</span>) =&gt;</span> <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Component</span> &#123;<span class="attr">...props</span>&#125; <span class="attr">store</span>=<span class="string">&#123;useStore()&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="storeè¯´æ˜"><a href="#storeè¯´æ˜" class="headerlink" title="storeè¯´æ˜"></a>storeè¯´æ˜</h3><p>å®ƒæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å­˜å‚¨ï¼Œå¸¦æœ‰ä¸€ä¸ªç”¨äºå­˜å‚¨ç”¨æˆ·æ•°æ®çš„ç”¨æˆ·å¯¹è±¡ã€ä¸€ä¸ªæ ‡é¢˜å­—ç¬¦ä¸²ã€ä¸€äº›ä¿®æ”¹ç”¨æˆ·å’Œæ ‡é¢˜çš„å‡½æ•°ã€‚<code>@observable</code><strong>ç”¨äºå‘Šè¯‰ mobx åœ¨ä¿®æ”¹ observable å±æ€§æ—¶é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚</strong></p><p><code>@action</code>æ˜¯ä¸€ä¸ªç”¨äºä¿®æ”¹ observable çš„å‡½æ•°ã€‚è¿è¡Œä¸€ä¸ª<code>@actions</code>ä¹Ÿä¼šè§¦å‘<code>autoRun</code>å¦‚æœæ‚¨è®¾ç½®äº†å…¶ä¸­ä»»ä½•ä¸€ä¸ªï¼Œå‡½æ•°ã€‚</p><p>useStore æ˜¯æˆ‘ä»¬çš„è‡ªå®šä¹‰é’©å­ï¼Œç”¨äºåœ¨ä»»ä½•åŠŸèƒ½ç»„ä»¶ä¸­ä½¿ç”¨ mobx å­˜å‚¨</p><p>withStore æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ HOCï¼ˆé«˜é˜¶ç»„ä»¶ï¼‰ï¼Œå¯ä»¥åœ¨ä»»ä½•ç±»ç»„ä»¶ä¸­ä½¿ç”¨ mobx å­˜å‚¨ã€‚</p><h3 id="Mobx-ä½¿ç”¨"><a href="#Mobx-ä½¿ç”¨" class="headerlink" title="Mobx ä½¿ç”¨"></a>Mobx ä½¿ç”¨</h3><p>è½¬åˆ°App.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&quot;./screens/Home&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Store, &#123; StoreProvider &#125; <span class="keyword">from</span> <span class="string">&quot;./services/store&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Store();</span><br><span class="line"><span class="comment">/* Create a new store */</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">StoreProvider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">Home</span> /&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">StoreProvider</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure><p>Home.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&quot;../logo.svg&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;../App.css&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">&quot;mobx-react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; withStore &#125; <span class="keyword">from</span> <span class="string">&quot;../services/store&quot;</span>;</span><br><span class="line"> </span><br><span class="line">@withStore</span><br><span class="line">@observer</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  toggleTitle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; store &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="keyword">if</span> (store.title === <span class="string">&quot;Coding is Love&quot;</span>) &#123;</span><br><span class="line">      store.setTitle(<span class="string">&quot;Mobx React Context&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      store.setTitle(<span class="string">&quot;Coding is Love&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; store &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">header</span> <span class="attr">className</span>=<span class="string">&quot;App-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#123;logo&#125;</span> <span class="attr">className</span>=<span class="string">&quot;App-logo&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;logo&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">a</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">className</span>=<span class="string">&quot;App-link&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">href</span>=<span class="string">&quot;https://codingislove.com&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">rel</span>=<span class="string">&quot;noopener noreferrer&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">          &gt;</span></span></span><br><span class="line"><span class="xml">            &#123;store.title&#125;</span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.toggleTitle&#125;</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">margin:</span> <span class="attr">20</span> &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="xml">            Toggle title</span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Home;</span><br></pre></td></tr></table></figure><h3 id="åŠŸèƒ½ç»„ä»¶ä½¿ç”¨-useStore-é’©å­"><a href="#åŠŸèƒ½ç»„ä»¶ä½¿ç”¨-useStore-é’©å­" class="headerlink" title="åŠŸèƒ½ç»„ä»¶ä½¿ç”¨ useStore é’©å­"></a>åŠŸèƒ½ç»„ä»¶ä½¿ç”¨ useStore é’©å­</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">&quot;mobx-react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;../services/store&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> Username = observer(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> store = useStore();</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">fontSize:</span> <span class="attr">14</span> &#125;&#125;&gt;</span>- By &#123;store.user.name&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Username;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;React-Native-ä½¿ç”¨-MobX&quot;&gt;&lt;a href=&quot;#React-Native-ä½¿ç”¨-MobX&quot; class=&quot;headerlink&quot; title=&quot;React Native ä½¿ç”¨ MobX&quot;&gt;&lt;/a&gt;React Native ä½¿ç”¨ MobX&lt;/h2&gt;&lt;</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://liuios.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="react-native" scheme="https://liuios.github.io/tags/react-native/"/>
    
  </entry>
  
  <entry>
    <title>Androidæ‰“åŒ…æ··æ·†å‡ºç°java.lang.OutOfMemoryError: Java heap space</title>
    <link href="https://liuios.github.io/2021/09/08/Android%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E5%87%BA%E7%8E%B0java-lang-OutOfMemoryError-Java-heap-space/"/>
    <id>https://liuios.github.io/2021/09/08/Android%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E5%87%BA%E7%8E%B0java-lang-OutOfMemoryError-Java-heap-space/</id>
    <published>2021-09-08T02:56:42.000Z</published>
    <updated>2021-09-08T02:58:15.400Z</updated>
    
    <content type="html"><![CDATA[<p>é…ç½®gradle.properties</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">org.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=4096m -XX:+HeapDumpOnOutOfMemoryError</span><br><span class="line">org.gradle.daemon=true</span><br><span class="line">org.gradle.parallel=true</span><br><span class="line">org.gradle.configureondemand=true</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é…ç½®gradle.properties&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://liuios.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="Android" scheme="https://liuios.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>ç³»ç»Ÿç­¾åappè¿è¡Œwebviewé—ªé€€é—®é¢˜</title>
    <link href="https://liuios.github.io/2021/09/08/%E7%B3%BB%E7%BB%9F%E7%AD%BE%E5%90%8Dapp%E8%BF%90%E8%A1%8Cwebview%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98/"/>
    <id>https://liuios.github.io/2021/09/08/%E7%B3%BB%E7%BB%9F%E7%AD%BE%E5%90%8Dapp%E8%BF%90%E8%A1%8Cwebview%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98/</id>
    <published>2021-09-08T02:40:14.000Z</published>
    <updated>2021-09-08T02:44:54.054Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å¼€å‘å®šåˆ¶Androidç³»ç»Ÿåº”ç”¨æ—¶ï¼Œç³»ç»Ÿç­¾ååappé—ªé€€</p><p><code>java.lang.UnsupportedOperationException: For security reasons, WebView is not allowed in privileged processes</code></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">hookWebView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sdkInt = Build.VERSION.SDK_INT;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class&lt;?&gt; factoryClass = Class.forName(<span class="string">&quot;android.webkit.WebViewFactory&quot;</span>);</span><br><span class="line">            Field field = factoryClass.getDeclaredField(<span class="string">&quot;sProviderInstance&quot;</span>);</span><br><span class="line">            field.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">            Object sProviderInstance = field.get(<span class="keyword">null</span>);</span><br><span class="line">            <span class="keyword">if</span> (sProviderInstance != <span class="keyword">null</span>) &#123;</span><br><span class="line"></span><br><span class="line">                Log.d(<span class="string">&quot;hookWebView==&quot;</span>,<span class="string">&quot;sProviderInstance isn&#x27;t null&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            Method getProviderClassMethod;</span><br><span class="line">            <span class="keyword">if</span> (sdkInt &gt; <span class="number">22</span>) &#123; <span class="comment">// above 22</span></span><br><span class="line">                getProviderClassMethod = factoryClass.getDeclaredMethod(<span class="string">&quot;getProviderClass&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sdkInt == <span class="number">22</span>) &#123; <span class="comment">// method name is a little different</span></span><br><span class="line">                getProviderClassMethod = factoryClass.getDeclaredMethod(<span class="string">&quot;getFactoryClass&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">// no security check below 22</span></span><br><span class="line"></span><br><span class="line">                Log.d(<span class="string">&quot;hookWebView==&quot;</span>,<span class="string">&quot;Don&#x27;t need to Hook WebView&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            getProviderClassMethod.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">            Class&lt;?&gt; providerClass = (Class&lt;?&gt;) getProviderClassMethod.invoke(factoryClass);</span><br><span class="line">            Class&lt;?&gt; delegateClass = Class.forName(<span class="string">&quot;android.webkit.WebViewDelegate&quot;</span>);</span><br><span class="line">            Constructor&lt;?&gt; providerConstructor = providerClass.getConstructor(delegateClass);</span><br><span class="line">            <span class="keyword">if</span> (providerConstructor != <span class="keyword">null</span>) &#123;</span><br><span class="line">                providerConstructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">                Constructor&lt;?&gt; declaredConstructor = delegateClass.getDeclaredConstructor();</span><br><span class="line">                declaredConstructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">                sProviderInstance = providerConstructor.newInstance(declaredConstructor.newInstance());</span><br><span class="line"></span><br><span class="line">                Log.d(<span class="string">&quot;hookWebView==&quot;</span>,<span class="string">&quot;sProviderInstance:&#123;&#125;&quot;</span>);</span><br><span class="line">                field.set(<span class="string">&quot;sProviderInstance&quot;</span>, sProviderInstance);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Log.d(<span class="string">&quot;hookWebView==&quot;</span>,<span class="string">&quot;Hook done!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line"></span><br><span class="line">            Log.d(<span class="string">&quot;hookWebView==&quot;</span>,e.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;å¼€å‘å®šåˆ¶Androidç³»ç»Ÿåº”ç”¨æ—¶ï¼Œç³»ç»Ÿç­¾ååappé—ªé€€&lt;/p&gt;
&lt;p&gt;&lt;code&gt;java.lang.UnsupportedOperationException: For security reasons, WebView is not allow</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://liuios.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="Android" scheme="https://liuios.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>iOS å¯åŠ¨å›¾å°ºå¯¸é€‚é…</title>
    <link href="https://liuios.github.io/2021/09/08/iOS-%E5%90%AF%E5%8A%A8%E5%9B%BE%E5%B0%BA%E5%AF%B8%E9%80%82%E9%85%8D/"/>
    <id>https://liuios.github.io/2021/09/08/iOS-%E5%90%AF%E5%8A%A8%E5%9B%BE%E5%B0%BA%E5%AF%B8%E9%80%82%E9%85%8D/</id>
    <published>2021-09-08T02:02:08.000Z</published>
    <updated>2021-09-08T02:26:55.002Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨ iOS å¼€å‘æ—©æœŸï¼Œå¯åŠ¨å›¾é€‚é…ï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ LaunchImage é€šè¿‡è®¾ç½®å¤šå¼ å›¾ç‰‡æ¥å®ç°é€šè¿‡å°ºå¯¸çš„é€‚é…ï¼Œ2020 å¹´ 4 æœˆå¼€å§‹ï¼Œæ‰€æœ‰ä½¿ç”¨ iOS 13 SDK çš„ App éƒ½å¿…é¡»æä¾› LaunchScreen å¦‚æœä½¿ç”¨ LaunchScreen ä¸€å¼ å›¾æ¥é€‚é…æ‰€æœ‰å°ºå¯¸çš„ iPhone æ˜¯ä¸€å®šä¸å¤Ÿçš„ï¼Œä¸åŒç¨‹åº¦çš„æ‹‰ä¼¸æ˜¯ä¸å¯é¿å…çš„ï¼Œè§£å†³åŠæ³• ğŸ‘‡</p></blockquote><p><strong>æ–¹æ³•ä¸€</strong></p><p>LaunchScreen ä¸­å†™è‡ªå®šä¹‰å¸ƒå±€ï¼ŒæŠŠ LaunchScreen å½“åšä¸€ä¸ªé¡µé¢ï¼Œé‡Œé¢ä¸ä»…ä»…å¯ä»¥æ”¾å›¾ç‰‡ï¼Œä¹Ÿæ¥ç”¨æ¥æ”¾å…¶ä»– view,è¿™æ ·ï¼Œé‡æ–°å¸ƒå±€ï¼Œæ¥å®ç°æˆ‘ä»¬æƒ³è¦çš„å¯åŠ¨é¡µå°±å¾ˆå®¹æ˜“å®ç°äº†ï¼Œè¿™ç§ä¹Ÿæ˜¯å®˜æ–¹æ¨èçš„æ–¹æ³•</p><p><strong>æ–¹æ³•äºŒ</strong></p><p>ä»ç„¶ä½¿ç”¨ç±»ä¼¼äº LaunchImage çš„æ–¹æ³•æ¥å®ç°ï¼Œé€šè¿‡é…ç½®å¤šå¼ å›¾ç‰‡çš„æ–¹å¼ï¼Œæ¥è¾¾åˆ°å¤šå›¾é€‚é…çš„é—®é¢˜</p><ol><li>åœ¨ Assets.xcasset ä¸­æ–°å»ºä¸€ä¸ª Image Setï¼Œå¹¶é…ç½®</li><li>æ‹·è´å¦‚ä¸‹ xml å†…å®¹åˆ° Contents.json ä¸­,å¹¶é…ç½®å°ºå¯¸çš„å›¾ç‰‡åˆ°æŒ‡å®šä½ç½®ï¼Œè®¾ç½®åªæ”¯æŒ iPhone å›¾ç‰‡</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;images&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;1125x2436.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span>: <span class="string">&quot;iphone&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;scale&quot;</span>: <span class="string">&quot;1x&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;640x960.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span>: <span class="string">&quot;iphone&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;scale&quot;</span>: <span class="string">&quot;2x&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;1125x2436.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span>: <span class="string">&quot;iphone&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;scale&quot;</span>: <span class="string">&quot;3x&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;640x1136.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span>: <span class="string">&quot;iphone&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;scale&quot;</span>: <span class="string">&quot;1x&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;subtype&quot;</span>: <span class="string">&quot;retina4&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;640x1136.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span>: <span class="string">&quot;iphone&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;scale&quot;</span>: <span class="string">&quot;2x&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;subtype&quot;</span>: <span class="string">&quot;retina4&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;640x1136.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span>: <span class="string">&quot;iphone&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;scale&quot;</span>: <span class="string">&quot;3x&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;subtype&quot;</span>: <span class="string">&quot;retina4&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;1242x2208.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span>: <span class="string">&quot;iphone&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;scale&quot;</span>: <span class="string">&quot;3x&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;subtype&quot;</span>: <span class="string">&quot;736h&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;750x1334.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span>: <span class="string">&quot;iphone&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;scale&quot;</span>: <span class="string">&quot;2x&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;subtype&quot;</span>: <span class="string">&quot;667h&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;1125x2436.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span>: <span class="string">&quot;iphone&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;scale&quot;</span>: <span class="string">&quot;3x&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;subtype&quot;</span>: <span class="string">&quot;2436h&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;1242x2688.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span>: <span class="string">&quot;iphone&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;scale&quot;</span>: <span class="string">&quot;3x&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;subtype&quot;</span>: <span class="string">&quot;2688h&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;828x1792.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span>: <span class="string">&quot;iphone&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;scale&quot;</span>: <span class="string">&quot;2x&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;subtype&quot;</span>: <span class="string">&quot;1792h&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">&quot;info&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;xcode&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;version&quot;</span>: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.è®¾ç½®å¥½åï¼ŒæŠŠå›¾ç‰‡åŠ å…¥åˆ° LaunchImage ä¸­ï¼Œè®¾ç½®å¥½çº¦æŸï¼Œå¹¶æŠŠ contentMode è®¾ç½®ä¸º<code>Scale to Fill</code></p><p>åˆ é™¤ app é‡æ–°è¿è¡Œå°±èƒ½çœ‹åˆ°æ•ˆæœäº†ã€‚</p><p>è®°å½•ä¸€ä¸‹ Android å¯åŠ¨å›¾å°ºå¯¸</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">android å¯åŠ¨å›¾å°ºå¯¸</span><br><span class="line"></span><br><span class="line">mdpi â€”â€” 360x640px</span><br><span class="line">hdpi â€”â€” 540x960px</span><br><span class="line">xhdpi â€”â€” 720x1280px</span><br><span class="line">xxhdpi â€”â€” 1080x1920px</span><br><span class="line">xxxhdpi â€”â€” 1440x2560px</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;åœ¨ iOS å¼€å‘æ—©æœŸï¼Œå¯åŠ¨å›¾é€‚é…ï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ LaunchImage é€šè¿‡è®¾ç½®å¤šå¼ å›¾ç‰‡æ¥å®ç°é€šè¿‡å°ºå¯¸çš„é€‚é…ï¼Œ2020 å¹´ 4 æœˆå¼€å§‹ï¼Œæ‰€æœ‰ä½¿ç”¨ iOS 13 SDK çš„ App éƒ½å¿…é¡»æä¾› LaunchScreen å¦‚æœä½¿ç”¨ LaunchScr</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://liuios.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="Android" scheme="https://liuios.github.io/tags/Android/"/>
    
    <category term="iOS" scheme="https://liuios.github.io/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>android å¤šä¸ªå›¾è¡¨é—ªé€€</title>
    <link href="https://liuios.github.io/2021/09/07/android-%E5%A4%9A%E4%B8%AA%E5%9B%BE%E8%A1%A8%E9%97%AA%E9%80%80/"/>
    <id>https://liuios.github.io/2021/09/07/android-%E5%A4%9A%E4%B8%AA%E5%9B%BE%E8%A1%A8%E9%97%AA%E9%80%80/</id>
    <published>2021-09-07T10:56:54.000Z</published>
    <updated>2021-09-07T10:59:18.885Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">webViewç»„ä»¶åŠ </span><br><span class="line">androidHardwareAccelerationDisabled</span><br><span class="line">å±æ€§ å…³é—­ç¡¬ä»¶åŠ é€Ÿ</span><br><span class="line"></span><br><span class="line">åœ¨åº“ä¸­ï¼ŒWebViewç»„ä»¶æ·»åŠ androidHardwareAccelerationDisabledå±æ€§ï¼Œå…³é—­androidç¡¬ä»¶åŠ é€Ÿ</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span c</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://liuios.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="react-native" scheme="https://liuios.github.io/tags/react-native/"/>
    
  </entry>
  
  <entry>
    <title>Mac sourcetreeè‡ªåŠ¨æ·»åŠ ssh key</title>
    <link href="https://liuios.github.io/2021/09/07/Mac-sourcetree%E8%87%AA%E5%8A%A8%E6%B7%BB%E5%8A%A0ssh-key/"/>
    <id>https://liuios.github.io/2021/09/07/Mac-sourcetree%E8%87%AA%E5%8A%A8%E6%B7%BB%E5%8A%A0ssh-key/</id>
    <published>2021-09-07T10:23:12.000Z</published>
    <updated>2021-09-07T10:47:03.924Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ç”Ÿæˆsshkey</span><br><span class="line">æ‰§è¡Œssh-add ~/.ssh/id_rsa å°†sshkeyæ·»åŠ åˆ°sourceTree</span><br><span class="line">æ‰§è¡Œssh-add -K ~/.ssh/id_rsa å°†sshkeyæ·»åŠ åˆ°é’¥åŒ™ä¸²</span><br><span class="line">cd åˆ° .sshç›®å½•ä¸‹, ç”¨touch configå‘½ä»¤åˆ›å»ºconfigæ–‡ä»¶</span><br><span class="line">æ‰§è¡Œopen config, æ‰“å¼€configæ–‡ä»¶.</span><br><span class="line">è¾“å…¥ä¸‹é¢çš„é…ç½®å†…å®¹, ä¿å­˜Â·configæ–‡ä»¶</span><br></pre></td></tr></table></figure><p>config</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Host *</span><br><span class="line">   UseKeychain yes</span><br><span class="line">   AddKeysToAgent yes</span><br><span class="line">   IdentityFile ~/.ssh/id_rsa</span><br><span class="line">   IdentityFile ~/.ssh/github_rsa</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span c</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://liuios.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="SourceTree" scheme="https://liuios.github.io/tags/SourceTree/"/>
    
  </entry>
  
  <entry>
    <title>react-nativeä¿®æ”¹ç¬¬ä¸‰æ–¹åŒ…</title>
    <link href="https://liuios.github.io/2021/09/07/react-native%E4%BF%AE%E6%94%B9%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85/"/>
    <id>https://liuios.github.io/2021/09/07/react-native%E4%BF%AE%E6%94%B9%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85/</id>
    <published>2021-09-07T10:18:07.583Z</published>
    <updated>2021-09-07T10:46:59.885Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„æ—¶å€™ï¼Œç»å¸¸éœ€è¦ä¿®æ”¹å†…éƒ¨æºç æ¥è§£å†³ bug å’Œå®ç°æ•ˆæœï¼Œç„¶è€Œæ¯æ¬¡ yarnã€npm install ä¹‹åï¼Œä¿®æ”¹çš„ä»£ç åˆä¼šè¢«è¦†ç›–ï¼Œè®©äººæŠ“ç‹‚ï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸ªå¥½ç”¨çš„æ–¹æ³• ğŸ‘‡</p><p>ä½¿ç”¨å·¥å…·ï¼š<a href="https://links.jianshu.com/go?to=https://github.com/ds300/patch-package">patch-package</a></p><h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><p>ä¿®æ”¹ package.json,æ·»åŠ <code> &quot;postinstall&quot;: &quot;patch-package&quot;</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;android&quot;</span>: <span class="string">&quot;react-native run-android&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;ios&quot;</span>: <span class="string">&quot;react-native run-ios&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;start&quot;</span>: <span class="string">&quot;react-native start&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;test&quot;</span>: <span class="string">&quot;jest&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;lint&quot;</span>: <span class="string">&quot;eslint .&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;postinstall&quot;</span>: <span class="string">&quot;patch-package&quot;</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>yarn add patch-package postinstall-postinstall -D</code></p><p>ä¿®æ”¹ç¬¬ä¸‰æ–¹åº“åï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npx patch-package [package-name]</span><br><span class="line">æˆ–</span><br><span class="line">yarn patch-package [package-name]</span><br></pre></td></tr></table></figure><p>åº”ç”¨è¡¥ä¸</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn patch-package</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„æ—¶å€™ï¼Œç»å¸¸éœ€è¦ä¿®æ”¹å†…éƒ¨æºç æ¥è§£å†³ bug å’Œå®ç°æ•ˆæœï¼Œç„¶è€Œæ¯æ¬¡ yarnã€npm install ä¹‹åï¼Œä¿®æ”¹çš„ä»£ç åˆä¼šè¢«è¦†ç›–ï¼Œè®©äººæŠ“ç‹‚ï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸ªå¥½ç”¨çš„æ–¹æ³• ğŸ‘‡&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨å·¥å…·ï¼š&lt;a href=&quot;https://links.jianshu.com/</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://liuios.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="react-native" scheme="https://liuios.github.io/tags/react-native/"/>
    
  </entry>
  
  <entry>
    <title>yarnçš„å¸¸ç”¨å‘½ä»¤</title>
    <link href="https://liuios.github.io/2021/09/07/yarn%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>https://liuios.github.io/2021/09/07/yarn%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</id>
    <published>2021-09-07T09:27:54.000Z</published>
    <updated>2021-09-07T10:44:09.899Z</updated>
    
    <content type="html"><![CDATA[<h4 id="yarn-å®‰è£…"><a href="#yarn-å®‰è£…" class="headerlink" title="yarn å®‰è£…"></a>yarn å®‰è£…</h4><p><code>npm i yarn -g</code></p><h4 id="æŸ¥çœ‹ç‰ˆæœ¬"><a href="#æŸ¥çœ‹ç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹ç‰ˆæœ¬"></a>æŸ¥çœ‹ç‰ˆæœ¬</h4><p><code>yarn -v</code></p><h4 id="æ–°å»º-package-json"><a href="#æ–°å»º-package-json" class="headerlink" title="æ–°å»º package.json"></a>æ–°å»º package.json</h4><p><code>yarn init</code></p><h4 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h4><p>é€šè¿‡ <code>yarn add</code> æ·»åŠ ä¾èµ–ä¼šæ›´æ–° package.json ä»¥åŠ yarn.lock æ–‡ä»¶</p><h5 id="1-å¼€å‘ç¯å¢ƒ"><a href="#1-å¼€å‘ç¯å¢ƒ" class="headerlink" title="1.å¼€å‘ç¯å¢ƒ"></a>1.å¼€å‘ç¯å¢ƒ</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yarn add &lt;packageName&gt; ä¾èµ–ä¼šè®°å½•åœ¨ package.json çš„ dependencies ä¸‹ å¼€å‘ç¯å¢ƒ</span><br><span class="line"></span><br><span class="line">yarn add webpack@2.5 # yarn --save æ˜¯ yarn é»˜è®¤çš„ï¼Œé»˜è®¤è®°å½•åœ¨ package.json ä¸­</span><br><span class="line"></span><br><span class="line">npm install webpack --save # npm</span><br></pre></td></tr></table></figure><h5 id="2-ç”Ÿäº§ç¯å¢ƒ"><a href="#2-ç”Ÿäº§ç¯å¢ƒ" class="headerlink" title="2.ç”Ÿäº§ç¯å¢ƒ"></a>2.ç”Ÿäº§ç¯å¢ƒ</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yarn add &lt;packageName&gt; --dev ä¾èµ–ä¼šè®°å½•åœ¨ package.json çš„ devDependencies ä¸‹ ç”Ÿäº§ç¯å¢ƒ</span><br><span class="line"></span><br><span class="line">yarn add webpack --dev # yarn ç®€å†™ -D</span><br><span class="line"></span><br><span class="line">npm install webpack --save-dev # npm</span><br></pre></td></tr></table></figure><h5 id="3-å…¨å±€"><a href="#3-å…¨å±€" class="headerlink" title="3.å…¨å±€"></a>3.å…¨å±€</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yarn global add &lt;packageName&gt; å…¨å±€å®‰è£…ä¾èµ–</span><br><span class="line"></span><br><span class="line">yarn global add webpack # yarn</span><br><span class="line"></span><br><span class="line">npm install webpack -g # npm</span><br></pre></td></tr></table></figure><h4 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yarn upgrade ç”¨äºæ›´æ–°åŒ…åˆ°åŸºäºè§„èŒƒèŒƒå›´çš„æœ€æ–°ç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">yarn upgrade # å‡çº§æ‰€æœ‰ä¾èµ–é¡¹ï¼Œä¸è®°å½•åœ¨ package.json ä¸­</span><br><span class="line"></span><br><span class="line">npm update # npm å¯ä»¥é€šè¿‡ â€˜--save|--save-devâ€™ æŒ‡å®šå‡çº§å“ªç±»ä¾èµ–</span><br><span class="line"></span><br><span class="line">yarn upgrade webpack # å‡çº§æŒ‡å®šåŒ…</span><br><span class="line"></span><br><span class="line">npm update webpack --save-dev # npm</span><br><span class="line"></span><br><span class="line">yarn upgrade --latest # å¿½ç•¥ç‰ˆæœ¬è§„åˆ™ï¼Œå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ä¸”æ›´æ–° package.json</span><br></pre></td></tr></table></figure><h4 id="ç§»é™¤"><a href="#ç§»é™¤" class="headerlink" title="ç§»é™¤"></a>ç§»é™¤</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yarn remove &lt;packageName&gt;</span><br><span class="line"></span><br><span class="line">yarn remove webpack # yarn</span><br><span class="line"></span><br><span class="line">npm uninstall webpack --save # npm å¯ä»¥æŒ‡å®š --save | --save-dev</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yarn æˆ–è€… yarn install</span><br><span class="line"></span><br><span class="line">yarn install # æˆ–è€… yarn åœ¨ node_modules ç›®å½•å®‰è£… package.json ä¸­åˆ—å‡ºçš„æ‰€æœ‰ä¾èµ–</span><br><span class="line"></span><br><span class="line">npm install # npm</span><br><span class="line"></span><br><span class="line">yarn install å®‰è£…æ—¶ï¼Œå¦‚æœ node_modules ä¸­æœ‰ç›¸åº”çš„åŒ…åˆ™ä¸ä¼šé‡æ–°ä¸‹è½½ --force å¯ä»¥å¼ºåˆ¶é‡æ–°ä¸‹è½½å®‰è£…</span><br><span class="line"></span><br><span class="line">yarn install --force # å¼ºåˆ¶ä¸‹è½½å®‰è£…</span><br><span class="line"></span><br><span class="line">npm install --force # npm</span><br></pre></td></tr></table></figure><h4 id="è¿è¡Œè„šæœ¬"><a href="#è¿è¡Œè„šæœ¬" class="headerlink" title="è¿è¡Œè„šæœ¬"></a>è¿è¡Œè„šæœ¬</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">yarn run ç”¨æ¥æ‰§è¡Œåœ¨ package.json ä¸­ scripts å±æ€§ä¸‹å®šä¹‰çš„è„šæœ¬</span><br><span class="line"></span><br><span class="line">// package.json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;dev&quot;: &quot;node app.js&quot;,</span><br><span class="line">  &quot;start&quot;: &quot;node app.js&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">yarn run dev # yarn æ‰§è¡Œ dev å¯¹åº”çš„è„šæœ¬ node app.js</span><br><span class="line"></span><br><span class="line">npm run # npm</span><br><span class="line"></span><br><span class="line">yarn start # yarn</span><br><span class="line"></span><br><span class="line">npm start # npm</span><br><span class="line"></span><br><span class="line">ä¸ npm ä¸€æ · å¯ä»¥æœ‰ yarn start å’Œ yarn test ä¸¤ä¸ªç®€å†™çš„è¿è¡Œè„šæœ¬æ–¹å¼</span><br></pre></td></tr></table></figure><h4 id="æ˜¾ç¤ºåŒ…ä¿¡æ¯"><a href="#æ˜¾ç¤ºåŒ…ä¿¡æ¯" class="headerlink" title="æ˜¾ç¤ºåŒ…ä¿¡æ¯"></a>æ˜¾ç¤ºåŒ…ä¿¡æ¯</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">yarn info &lt;packageName&gt; å¯ä»¥ç”¨æ¥æŸ¥çœ‹æŸä¸ªæ¨¡å—çš„æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">yarn info webpack # yarn</span><br><span class="line"></span><br><span class="line">npm info webpack # npm</span><br><span class="line"></span><br><span class="line">yarn info webpack --json # è¾“å‡º json æ ¼å¼</span><br><span class="line"></span><br><span class="line">npm info webpack --json # npm</span><br><span class="line"></span><br><span class="line">yarn info webpack readme # è¾“å‡º README éƒ¨åˆ†</span><br><span class="line"></span><br><span class="line">npm info webpack readme</span><br></pre></td></tr></table></figure><h4 id="åˆ—å‡ºæ‰€æœ‰ä¾èµ–"><a href="#åˆ—å‡ºæ‰€æœ‰ä¾èµ–" class="headerlink" title="åˆ—å‡ºæ‰€æœ‰ä¾èµ–"></a>åˆ—å‡ºæ‰€æœ‰ä¾èµ–</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">yarn list</span><br><span class="line"></span><br><span class="line">yarn list # åˆ—å‡ºå½“å‰é¡¹ç›®çš„ä¾èµ–</span><br><span class="line"></span><br><span class="line">npm list # npm</span><br><span class="line"></span><br><span class="line">yarn list --depth=0 # é™åˆ¶ä¾èµ–çš„æ·±åº¦</span><br><span class="line"></span><br><span class="line">sudo yarn global list # åˆ—å‡ºå…¨å±€å®‰è£…çš„æ¨¡å—</span><br></pre></td></tr></table></figure><h4 id="ç®¡ç†-yarn-é…ç½®æ–‡ä»¶"><a href="#ç®¡ç†-yarn-é…ç½®æ–‡ä»¶" class="headerlink" title="ç®¡ç† yarn é…ç½®æ–‡ä»¶"></a>ç®¡ç† yarn é…ç½®æ–‡ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">yarn coinfig</span><br><span class="line"></span><br><span class="line">yarn config set key value # è®¾ç½®</span><br><span class="line"></span><br><span class="line">npm config set key value</span><br><span class="line"></span><br><span class="line">yarn config get key # è¯»å–å€¼</span><br><span class="line"></span><br><span class="line">npm config get key</span><br><span class="line"></span><br><span class="line">yarn config delete key # åˆ é™¤</span><br><span class="line"></span><br><span class="line">npm config delete key</span><br><span class="line"></span><br><span class="line">yarn config list # æ˜¾ç¤ºå½“å‰é…ç½®</span><br><span class="line"></span><br><span class="line">npm config list</span><br><span class="line"></span><br><span class="line">yarn config set registry https://registry.npm.taobao.org # è®¾ç½®æ·˜å®é•œåƒ</span><br><span class="line"></span><br><span class="line">npm config set registry https://registry.npm.taobao.org # npm</span><br></pre></td></tr></table></figure><h4 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">yarn cache</span><br><span class="line"></span><br><span class="line">sudo yarn cache list # åˆ—å‡ºå·²ç¼“å­˜çš„æ¯ä¸ªåŒ…</span><br><span class="line"></span><br><span class="line">sudo yarn cache dir # è¿”å› å…¨å±€ç¼“å­˜ä½ç½®</span><br><span class="line"></span><br><span class="line">sudo yarn cache clean # æ¸…é™¤ç¼“å­˜</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;yarn-å®‰è£…&quot;&gt;&lt;a href=&quot;#yarn-å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;yarn å®‰è£…&quot;&gt;&lt;/a&gt;yarn å®‰è£…&lt;/h4&gt;&lt;p&gt;&lt;code&gt;npm i yarn -g&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&quot;æŸ¥çœ‹ç‰ˆæœ¬&quot;&gt;&lt;a hr</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://liuios.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="yarn" scheme="https://liuios.github.io/tags/yarn/"/>
    
  </entry>
  
  <entry>
    <title>iOS å¼€å‘è§£å†³dyld: Library not loaded: @rpath/xxx.framework/ </title>
    <link href="https://liuios.github.io/2021/09/07/iOS-%E5%BC%80%E5%8F%91%E8%A7%A3%E5%86%B3dyld-Library-not-loaded-rpath-xxx-framework/"/>
    <id>https://liuios.github.io/2021/09/07/iOS-%E5%BC%80%E5%8F%91%E8%A7%A3%E5%86%B3dyld-Library-not-loaded-rpath-xxx-framework/</id>
    <published>2021-09-07T09:06:20.000Z</published>
    <updated>2021-09-07T10:47:09.902Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘ä½¿ç”¨ç™¾åº¦äººè„¸é‡‡é›† sdk æ—¶è¿è¡ŒæŠ¥é”™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ld: Library not loaded: @rpath/xxx.framework/</span><br><span class="line">...</span><br><span class="line">reason: image not found</span><br></pre></td></tr></table></figure><h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><p><img src="https://cdn.jsdelivr.net/gh/LiuIos/picBed/20210907171430.png"></p><p><img src="https://cdn.jsdelivr.net/gh/LiuIos/picBed/ttttt.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘ä½¿ç”¨ç™¾åº¦äººè„¸é‡‡é›† sdk æ—¶è¿è¡ŒæŠ¥é”™&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span clas</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://liuios.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="iOS" scheme="https://liuios.github.io/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>react-native-webviewç¦æ­¢ç¼©æ”¾å’Œè‡ªé€‚åº”é«˜åº¦</title>
    <link href="https://liuios.github.io/2021/09/07/react-native-webview%E7%A6%81%E6%AD%A2%E7%BC%A9%E6%94%BE%E5%92%8C%E8%87%AA%E9%80%82%E5%BA%94%E9%AB%98%E5%BA%A6/"/>
    <id>https://liuios.github.io/2021/09/07/react-native-webview%E7%A6%81%E6%AD%A2%E7%BC%A9%E6%94%BE%E5%92%8C%E8%87%AA%E9%80%82%E5%BA%94%E9%AB%98%E5%BA%A6/</id>
    <published>2021-09-07T08:04:33.000Z</published>
    <updated>2021-09-07T10:46:56.874Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> BaseScript = <span class="string">`</span></span><br><span class="line"><span class="string">    (function () &#123;</span></span><br><span class="line"><span class="string">        var height = null;</span></span><br><span class="line"><span class="string">        function changeHeight() &#123;</span></span><br><span class="line"><span class="string">          if (document.body.scrollHeight != height) &#123;</span></span><br><span class="line"><span class="string">            height = document.body.scrollHeight;</span></span><br><span class="line"><span class="string">            if (window.ReactNativeWebView.postMessage) &#123;</span></span><br><span class="line"><span class="string">              window.ReactNativeWebView.postMessage(JSON.stringify(&#123;</span></span><br><span class="line"><span class="string">                type: &#x27;setHeight&#x27;,</span></span><br><span class="line"><span class="string">                height: height,</span></span><br><span class="line"><span class="string">              &#125;))</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        setTimeout(changeHeight, 100);</span></span><br><span class="line"><span class="string">        const meta = document.createElement(&#x27;meta&#x27;);</span></span><br><span class="line"><span class="string">        meta.setAttribute(&#x27;content&#x27;, &#x27;initial-scale=1, maximum-scale=1, user-scalable=0&#x27;);</span></span><br><span class="line"><span class="string">        meta.setAttribute(&#x27;name&#x27;, &#x27;viewport&#x27;);</span></span><br><span class="line"><span class="string">        document.getElementsByTagName(&#x27;head&#x27;)[0].appendChild(meta);</span></span><br><span class="line"><span class="string">    &#125; ())</span></span><br><span class="line"><span class="string">    `</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * webç«¯å‘é€è¿‡æ¥çš„äº¤äº’æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="title">onMessage</span>(<span class="params">event</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> action = <span class="built_in">JSON</span>.parse(event.nativeEvent.data);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;====================================&#x27;</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(action);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;====================================&#x27;</span>);</span><br><span class="line">      <span class="keyword">if</span> (action.type === <span class="string">&#x27;setHeight&#x27;</span> &amp;&amp; action.height &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.setState(&#123;<span class="attr">height</span>: action.height&#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="comment">// pass</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;====================================&#x27;</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(error);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;====================================&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;WebView ref=&#123;<span class="function"><span class="params">e</span> =&gt;</span> (<span class="built_in">this</span>.webView = e)&#125;</span><br><span class="line">injectedJavaScript=&#123;BaseScript&#125;/&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://liuios.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="react-native" scheme="https://liuios.github.io/tags/react-native/"/>
    
  </entry>
  
</feed>
